# agent-executor v2版本配置文件示例
# 本地开发时将此文件复制到 agent-executor.yaml, 放在 ./conf/ 或 ./.local/conf/ 并填写实际配置
# K8s部署时通过configmap-v2.yaml挂载到 /sysvol/conf/ 目录
#
# 重要提示：
# 1. 请勿将包含敏感信息的配置文件提交到版本控制系统
# 2. 生产环境请使用强密码并定期更换
# 3. 建议使用密钥管理系统（Kubernetes Secrets, Vault等）存储敏感信息

# 1. app相关
app:
  debug: false
  host_ip: "0.0.0.0"
  port: 30778
  host_prefix: "/api/agent-executor/v1"
  host_prefix_v2: "/api/agent-executor/v2"
  rps_limit: 100
  enable_system_log: false
  log_level: "info"
  enable_dolphin_agent_verbose: false
  is_print_last_commit_info: false
  log_conversation_session_init: false  # 是否记录 conversation-session/init 请求日志
  is_write_exception_log_to_file: false  # 是否将异常日志写入文件

# 2. 结构化数据库相关
rds:
  host: "your-rds-host-here"        # 替换为实际的RDS主机地址
  port: 3330
  dbname: "anydata"
  user: "root"
  password: "your-rds-password-here"  # 替换为实际的数据库密码
  db_type: ""

# 3. redis数据库相关
redis:
  # 连接类型: standalone, sentinel, master-slave
  cluster_mode: "master-slave"

  # standalone模式配置
  host: "your-redis-host-here"      # 替换为实际的Redis主机地址
  port: "6379"
  user: "root"
  password: "your-redis-password-here"  # 替换为实际的Redis密码

  # sentinel模式配置
  sentinel_master: "mymaster"
  sentinel_user: "root"
  sentinel_password: "your-sentinel-password-here"  # 替换为实际的Sentinel密码

  # master-slave模式配置
  read_host: "your-redis-read-host-here"    # 替换为实际的Redis读库地址
  read_port: "6379"
  read_user: "root"
  read_password: "your-redis-read-password-here"  # 替换为实际的Redis读库密码
  write_host: "your-redis-write-host-here"   # 替换为实际的Redis写库地址
  write_port: "6379"
  write_user: "root"
  write_password: "your-redis-write-password-here"  # 替换为实际的Redis写库密码

# 4. 图数据库相关
graphdb:
  host: "your-graphdb-host-here"     # 替换为实际的图数据库主机地址
  port: "9669"
  type: "nebulaGraph"
  read_only_user: "anydata"
  read_only_password: "your-graphdb-password-here"  # 替换为实际的图数据库密码

# 5. opensearch
opensearch:
  host: "your-opensearch-host-here"  # 替换为实际的OpenSearch主机地址
  port: "9200"
  user: "admin"
  password: "your-opensearch-password-here"  # 替换为实际的OpenSearch密码

# 6. 依赖的服务地址
services:
  mf_model_factory:
    host: "your-mf-model-factory-host-here"    # 替换为实际的服务地址
    port: "9898"
  mf_model_manager:
    host: "your-mf-model-manager-host-here"    # 替换为实际的服务地址
    port: "9898"
  mf_model_api:
    host: "your-mf-model-api-host-here"        # 替换为实际的服务地址
    port: "9898"
  agent_app:
    host: "your-agent-app-host-here"           # 替换为实际的服务地址
    port: "30777"
  agent_executor:
    host: "localhost"
    port: "30778"
  agent_factory:
    host: "your-agent-factory-host-here"       # 替换为实际的服务地址
    port: "13020"
  agent_operator_integration:
    host: "your-agent-operator-host-here"      # 替换为实际的服务地址
    port: "39000"
  agent_memory:
    host: "your-agent-memory-host-here"        # 替换为实际的服务地址
    port: "30790"
  kn_data_query:
    host: "your-kn-data-query-host-here"       # 替换为实际的服务地址
    port: "6480"
  kn_knowledge_data:
    host: "your-kn-knowledge-data-host-here"   # 替换为实际的服务地址
    port: "6475"
  data_connection:
    host: "your-data-connection-host-here"     # 替换为实际的服务地址
    port: "38098"
  search_engine:
    host: "your-search-engine-host-here"       # 替换为实际的服务地址
    port: "6479"
  ecosearch:
    host: "your-ecosearch-host-here"           # 替换为实际的服务地址
    port: "32126"
  ecoindex_public:
    host: "your-ecoindex-public-host-here"     # 替换为实际的服务地址
    port: "32129"
  ecoindex_private:
    host: "your-ecoindex-private-host-here"    # 替换为实际的服务地址
    port: "32130"
  docset_private:
    host: "your-docset-private-host-here"      # 替换为实际的文档服务地址
    port: "32597"
  datahub:
    host: "your-datahub-host-here"             # 替换为实际的数据中心服务地址
    port: ""

# 依赖的外部接入的服务
external_services:
  emb_url: "http://your-embedding-service-host:8316/v1/embeddings"  # 替换为实际的嵌入服务地址
  embedding_dimension: 768
  rerank_url: "http://your-rerank-service-host:8343/v1/reranker"    # 替换为实际的重排序服务地址

# 7. 记忆相关
memory:
  limit: 50
  threshold: 0.5
  rerank_threshold: 0.1

# 8. 文档问答相关
document:
  enable_sensitive_word_detection: false

# 9. 本地开发模式
local_dev:
  is_skip_pms_check: false
  is_use_outer_llm: false
  is_mock_get_llm_config_resp: false
  do_not_init_built_in_agent_and_tool: false
  dolphin_agent_output_variables: null
  enable_streaming_response_rate_limit: false
  is_show_config_on_boot: false

# 10. 外部LLM（非模型工厂）
outer_llm:
  api: ""
  api_key: ""
  model: ""
  model_list: {}

# 11. 一些特性控制
features:
  use_explore_block_v2: true
  disable_dolphin_sdk_llm_cache: false
  enable_dolphin_agent_output_variables_ctrl: true
  is_skill_agent_need_progress: false

# 12. o11y 相关
o11y:
  log_enabled: false
  trace_enabled: false

# 15. 对话日志相关配置
dialog_logging:
  enable_dialog_logging: true
  use_single_log_file: false
  single_profile_file_path: "./data/debug_logs/profile.log"
  single_trajectory_file_path: "./data/debug_logs/trajectory.log"
